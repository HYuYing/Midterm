#include <Wire.h>
#include <SPI.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define OLED_MOSI 11
#define OLED_CLK  12
#define OLED_DC 9
#define OLED_CS 8
#define OLED_RESET  10
Adafruit_SSD1306 display(OLED_MOSI, OLED_CLK, OLED_DC, OLED_RESET, OLED_CS);

int micPin=3;                                    //設定感測器D0腳位為第3孔
int val1;                                         //設定變量val給play1玩家
int val2;                                         //設定變量val給play2玩家
//------------------------------
int potPin = 3;                                  // select the input pin for the potentiometer
//------------------------------

//以下為定義按鈕
int buttonPin = 2;
int buttonState = 0;
boolean bState = false;//預設尚未按按鈕

unsigned long time;


static const unsigned char PROGMEM start[]
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00011111, B11000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00011000, B01100000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00011000, B01100000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00011000, B01100000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00011000, B01100000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00011111, B11010111, B00001111, B00000111, B11000011, B11100000, B00000000, B00000000, 
  B00011000, B00011001, B10011001, B10000110, B01000011, B00100000, B00000000, B00000000, 
  B00011000, B00011000, B00111001, B10000110, B00000011, B00000000, B00000000, B00000000, 
  B00011000, B00011000, B00111111, B10000111, B11100011, B11110000, B00000000, B00000000, 
  B00011000, B00011000, B00110000, B00000000, B01100000, B00110000, B00000000, B00000000, 
  B00011000, B00011000, B00110001, B10001100, B01100110, B00110000, B00000000, B00000000, 
  B00011000, B00011000, B00011111, B10001111, B11100111, B11110000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000011, B11110000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000110, B00011000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000110, B00011000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000110, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000110, B00000000, B01100000, B00000000, B00000000, B00110000, 
  B00000000, B00000000, B00000110, B00000000, B01100000, B00000000, B00000000, B00110000, 
  B00000000, B00000000, B00000111, B11111001, B11111000, B11111000, B01011100, B11111100, 
  B00000000, B00000000, B00000000, B00001100, B01100001, B10001100, B01100110, B00110000, 
  B00000000, B00000000, B00000000, B00001100, B01100001, B10001100, B01100000, B00110000, 
  B00000000, B00000000, B00001100, B00001100, B01100001, B10001100, B01100000, B00110000, 
  B00000000, B00000000, B00001100, B00001100, B01100001, B10001100, B01100000, B00110000, 
  B00000000, B00000000, B00001100, B00001100, B01100001, B10001100, B01100000, B00110000, 
  B00000000, B00000000, B00000111, B11111100, B01111000, B11110111, B01100000, B00111100, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
};
static const unsigned char PROGMEM P1[]
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00011111, B11111111, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00011111, B11111111, B11000000, B00000111, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000011, B11100000, B00001111, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B00011111, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B00111111, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B01111111, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B01111011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B01110011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000011, B11100000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011111, B11111111, B11000000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011111, B11111111, B00000000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00000011, B11000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B01111111, B11111100, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B01111111, B11111100, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B01111111, B11111100, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
};
static const unsigned char PROGMEM P2[]
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00011111, B11111111, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00011111, B11111111, B11000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00011110, B00000011, B11100000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B00011111, B11111000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B00111111, B11111110, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B00111111, B11111110, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B00111000, B00011110, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B00000000, B00011110, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B11100000, B00000000, B00011110, B00000000, B00000000, 
  B00000000, B00011110, B00000011, B11100000, B00000000, B00011110, B00000000, B00000000, 
  B00000000, B00011111, B11111111, B11000000, B00000000, B00011110, B00000000, B00000000, 
  B00000000, B00011111, B11111111, B00000000, B00011111, B11111110, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00111111, B11111110, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00111111, B11111100, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00111100, B00000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00111100, B00000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00111100, B00000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00111100, B00000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00111100, B00000000, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00111111, B11111111, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00111111, B11111111, B00000000, B00000000, 
  B00000000, B00011110, B00000000, B00000000, B00111111, B11111111, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
};
static const unsigned char PROGMEM Ready[]
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B01111111, B11111111, B11111111, B11111111, B11111111, B11111111, B11111111, B11111100, 
  B01000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000100, 
  B01000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000100, 
  B01000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000100, 
  B01001111, B11111100, B00000000, B00000000, B00000000, B00000000, B00000000, B00000100, 
  B01001111, B11111110, B00000000, B00000000, B00000000, B00110000, B00000000, B00000100, 
  B01001100, B00000110, B00000000, B00000000, B00000000, B00110000, B00000000, B00000100, 
  B01001100, B00000110, B00000000, B00000000, B00000000, B00110000, B00000000, B00000100, 
  B01001100, B00000110, B00000000, B00000000, B00000000, B00110000, B00000000, B00000100, 
  B01001100, B00000110, B00000000, B00000000, B00000000, B00110000, B00000000, B00000100, 
  B01001100, B00000110, B00000000, B00000000, B00000000, B00110000, B00000000, B00000100, 
  B01001111, B11111110, B00000000, B00000000, B00000000, B00110000, B00000000, B00000100, 
  B01001111, B11111100, B00000000, B00000000, B00000000, B00110000, B00000000, B00000100, 
  B01001100, B11100000, B00011110, B00011111, B00000111, B11110000, B00000000, B00000100, 
  B01001100, B01110000, B00110011, B00110001, B10001110, B00110001, B10000110, B00000100, 
  B01001100, B00111000, B00110011, B00110001, B10001110, B00110001, B10000110, B00000100, 
  B01001100, B00011100, B00111111, B00110001, B10001110, B00110001, B10000110, B00000100, 
  B01001100, B00001110, B00110000, B00110001, B10001110, B00110001, B10000110, B00000100, 
  B01001100, B00000111, B00110000, B00110001, B10001110, B00110001, B10000110, B00000100, 
  B01001100, B00000011, B10111111, B00011110, B11000111, B11110000, B11111110, B00000100, 
  B01000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000110, B00000100, 
  B01000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000110, B00000100, 
  B01000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000110, B00000100, 
  B01000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000110, B00000100, 
  B01000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000110, B00000100, 
  B01000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000110, B00000100, 
  B01000000, B00000000, B00000000, B00000000, B00000000, B00000001, B11111110, B00000100, 
  B01111111, B11111111, B11111111, B11111111, B11111111, B11111111, B11111110, B00000100, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
};
static const unsigned char PROGMEM Go[]
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000111, B11111111, B11111100, B00000000, B00000111, B11111111, B11111000, B00000000, 
  B00001111, B11111111, B11111110, B00000000, B00001111, B11111111, B11111100, B00000000, 
  B00001111, B11111111, B11111110, B00000000, B00001111, B11111111, B11111100, B00000000, 
  B00001110, B00000000, B00001110, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00001110, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00001110, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00001110, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00000000, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00000000, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00000000, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00000000, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00000000, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00000000, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000001, B11111111, B11000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000001, B11111111, B11000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000001, B11111111, B11000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00001110, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00001110, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00001110, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00001110, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00001110, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001110, B00000000, B00001110, B00000000, B00001110, B00000000, B00011100, B00000000, 
  B00001111, B11111111, B11111110, B00000000, B00001111, B11111111, B11111100, B00000000, 
  B00001111, B11111111, B11111110, B00000000, B00001111, B11111111, B11111100, B00000000, 
  B00000111, B11111111, B11111110, B00000000, B00000111, B11111111, B11111000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
};
static const unsigned char PROGMEM Shit[]
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B10000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B10000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B10000010, B00000000, B10100000, B00000000, B10000000, B00000010, B00000000, 
  B00001000, B10000010, B00000000, B10100000, B00000010, B10000000, B00000010, B00000000, 
  B00001000, B10001010, B00000000, B10101000, B00000010, B10100000, B10000010, B10000000, 
  B00001000, B10001010, B10000000, B10101000, B00001010, B10100010, B10000010, B10001000, 
  B00001010, B10001010, B10000010, B10101000, B00101010, B10101010, B10001010, B10001000, 
  B00001010, B10101010, B10100010, B10101010, B00101010, B10101010, B10001010, B10101000, 
  B00101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101000, 
  B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
};
static const unsigned char PROGMEM Shit_2[]
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B10000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B10000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B10100000, B00000000, B10000000, B00000010, B00000000, 
  B00001000, B00000010, B00000000, B10100000, B00000010, B10000000, B10000010, B00000000, 
  B00001000, B10001010, B00000000, B10101000, B00000010, B10100000, B10000010, B10000000, 
  B00001000, B10001010, B10000000, B10101000, B00001010, B10100010, B10000010, B10001000, 
  B00001010, B10001010, B10000000, B10101000, B00101010, B10100010, B10000010, B10001000, 
  B00001010, B10101010, B10100000, B10101010, B00101010, B10100010, B10000010, B10001000, 
  B00101010, B10101010, B10101010, B10101010, B00101010, B10101010, B10100010, B10101000, 
  B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, 
  B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
};
static const unsigned char PROGMEM Shit_3[]
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B10000000, B00000000, B00000000, B00000000, B00000000, 
  B00001000, B00000010, B00000000, B10000000, B00000000, B10000000, B00000000, B00000000, 
  B00001000, B00000010, B00000000, B10000000, B00000000, B10000000, B00000000, B00000000, 
  B00001000, B10001010, B00000000, B10100000, B00000010, B10000000, B00000000, B00000000, 
  B00001000, B10001010, B10000000, B10100000, B00000010, B10000000, B10000000, B00000000, 
  B00001010, B10001010, B10000000, B10101000, B00000010, B10100000, B10000010, B00000000, 
  B00101010, B10101010, B10100000, B10101000, B00001010, B10100010, B10000010, B10000000, 
  B00101010, B10101010, B10100000, B10101000, B00101010, B10100010, B10000010, B10001000, 
  B00101010, B10101010, B10100010, B10101010, B00101010, B10101010, B10001010, B10101000, 
  B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101000, 
  B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
};
static const unsigned char PROGMEM Shit_4[]
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B10000000, B00000000, B10000000, B00000000, B00000000, 
  B00001000, B00000010, B00000000, B10000000, B00000010, B10000000, B00000000, B00000000, 
  B00001000, B00000010, B10000000, B10000000, B00000010, B10100000, B10000000, B00000000, 
  B00001000, B10000010, B10000000, B10100000, B00000010, B10100000, B10000010, B00000000, 
  B00001000, B10100010, B10000000, B10100000, B00000010, B10100000, B10000010, B00000000, 
  B00001000, B10100010, B10000010, B10101000, B00000010, B10100010, B10000010, B00000000, 
  B00001010, B10101010, B10100010, B10101000, B00001010, B10101010, B10001010, B10000000, 
  B00101010, B10101010, B10101010, B10101000, B00001010, B10101010, B10101010, B10001000, 
  B00101010, B10101010, B10101010, B10101010, B00101010, B10101010, B10101010, B10101010, 
  B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
};
static const unsigned char PROGMEM Shit_5[]
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B10000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B10000000, B00000000, B10000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B10000000, B00000010, B10000000, B00000000, B00000000, 
  B00000000, B00000010, B00000000, B10000000, B00000010, B10100000, B10000000, B00000000, 
  B00000000, B00000010, B00000000, B10000000, B00000010, B10100000, B10000000, B00000000, 
  B00001000, B00000010, B10000000, B10000000, B00000010, B10100000, B10000000, B00000000, 
  B00001000, B00000010, B10000010, B10100000, B00000010, B10100010, B10000010, B00000000, 
  B00001000, B10100010, B10000010, B10100000, B00001010, B10101010, B10000010, B00000000, 
  B00001000, B10100010, B10001010, B10101000, B00001010, B10101010, B10100010, B00000000, 
  B00001010, B10101010, B10101010, B10101000, B00101010, B10101010, B10101010, B10000000, 
  B00101010, B10101010, B10101010, B10101000, B10101010, B10101010, B10101010, B10001000, 
  B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, B10101010, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, 
};

void showShit() {
        display.clearDisplay();
        display.drawBitmap(32,0,Shit,64,32,WHITE);
        display.display();
}
void showShit_2() {
        display.clearDisplay();
        display.drawBitmap(32,0,Shit_2,64,32,WHITE);
        display.display();
}
void showShit_3() {
        display.clearDisplay();
        display.drawBitmap(32,0,Shit_3,64,32,WHITE);
        display.display();
}
void showShit_4() {
        display.clearDisplay();
        display.drawBitmap(32,0,Shit_4,64,32,WHITE);
        display.display();
}
void showShit_5() {
        display.clearDisplay();
        display.drawBitmap(32,0,Shit_5,64,32,WHITE);
        display.display();
}
void showStart(){
          display.clearDisplay();
          display.drawBitmap(32,0,start,64,32,WHITE);
          display.display();
}
void showStart2(){
  display.clearDisplay();
  showP2();
  showStart();
  delay(500);
}
void showP1(){
          display.clearDisplay();
          display.drawBitmap(32,0,P1,64,32,WHITE);
          display.display();
          delay(500);
}
void showP2(){
          display.clearDisplay();
          display.drawBitmap(32,0,P2,64,32,WHITE);
          display.display();
          delay(500);
}
void showReady(){
          display.clearDisplay();
          display.drawBitmap(32,0,Ready,64,32,WHITE);
          display.display();
}
void showGo(){
          display.clearDisplay();
          display.drawBitmap(32,0,Go,64,32,WHITE);
          display.display();
}
void showTime(){

    showReady();
    delay(500);
    showGo();
    delay(500);
}
void shitTime(){
  showShit();
  delay(100);
  
  showShit_2();
  delay(100);
  
  showShit_3();
  delay(100);
  
  showShit_4();
  delay(100);
  
  showShit_5();
  delay(100);
  
  showShit();
  delay(100);
  
  showShit_2();
  delay(100);
  
  showShit_3();
  delay(100);
  
  showShit_4();
  delay(100);
  
  showShit_5();
  delay(100);
  
  showShit();
  delay(100);
  
  showShit_2();
  delay(100);
  
  showShit_3();
  delay(100);
  
  showShit_4();
  delay(100);
  
  showShit_5();
  delay(100);
}
void showValue1(){
  display.clearDisplay();
  display.setTextColor(WHITE);
  display.setTextSize(1);
  display.setCursor(0,10);
  display.print("YourScore: ");
  display.setTextSize(2);
  display.setCursor(70,10);
  display.print(val1);
  display.display();
}
void showValue2(){
  display.clearDisplay();
  display.setTextColor(WHITE);
  display.setTextSize(1);
  display.setCursor(0,10);
  display.print("YourScore: ");
  display.setTextSize(2);
  display.setCursor(70,10);
  display.print(val2);
  display.display();
}


void setup() {
  
  pinMode(buttonPin,INPUT);
  
  pinMode(micPin,INPUT);              //設定感測器D0为輸入

   Serial.begin(250000);
   // put your setup code here, to run once:
  
   display.begin(SSD1306_SWITCHCAPVCC,0x3D);
   display.clearDisplay();
   display.display();

}

void loop() {

      buttonState=digitalRead(buttonPin);
      
      if(buttonState==HIGH){
        bState=true;
      }
      else{
        bState=false;
      }
      
      if(bState==false){
        showStart();
        delay(500);
        display.clearDisplay();
        display.drawBitmap(32,0,start,64,32,BLACK);
        display.display();
        delay(500);
      }
      else if(bState==true){  
    //--------------------以下為"當按鈕被按下"--------------------
        showP1();
        showTime();                             //在Go之後測mic的最大值並顯示在OLED上
    
        do
        {
          buttonState=digitalRead(buttonPin);
          if(buttonState==HIGH){
            bState=true;
                }
          else{
            bState=false;
          }
                  do{
                    
                          //val=digitalRead(micPin);              //將感測器的值讀取給给val
                          micPin = map(val1, 0, 500, 0, 500); 
                          val1=analogRead(micPin);//讀取麥克風值
                          Serial.println(val1);
                          if(val1>=850){
                            showValue1();
                            delay(5000);
                            bState=true;
                          }else{
                            shitTime();
                            delay(65);
                          }
                  }while(bState==false);
            
        }while(bState==false);
        
    //--------------------再按一下按鈕便可以進入P2-----------------
        do
        {
          buttonState=digitalRead(buttonPin);
          
          if(buttonState==HIGH){
            bState=true;
          }
          else{
            bState=false;
          }
          
          if(bState==false){
            showStart2();
          }
          else if(bState==true){  
      //--------------------以下為"當按鈕被按下"--------------------
            showP2();
            showTime();                             //在GO的時候測mic的最大值並顯示在OLED上
                                                    //沒有按下按鈕的話就一直停在GO並測值
            do
            {
              buttonState=digitalRead(buttonPin);
              if(buttonState==HIGH){
                bState=true;
                    }
              else{
                bState=false;
              }
                    do{
                            
                            //val=digitalRead(micPin);              //將感測器的值讀取給给val
                            micPin = map(val2, 0, 500, 0, 500); 
                            val2=analogRead(micPin);//讀取麥克風值
                            Serial.println(val2);
                            if(val2>=850){
                              showValue2();
                              delay(5000);
                              bState=true;
                            }else{
                              shitTime();
                              delay(65);
                            }
                    }while(bState==false);
                
            }while(bState==false);
          }
        }while(bState==false);
        
      //--------------------以下為"計算最高分，顯示於OLED"--------------------
      display.clearDisplay();
      display.setTextColor(WHITE);
      display.setTextSize(2);
      display.setCursor(0,0);
      display.print("Winner is");
      display.setTextSize(2);
      display.setCursor(75,15);
      if(val1>val2){
        display.print("P1 !");
      }else if(val1<val2){
        display.print("P2 !");
      }else if(val1=val2){
        display.clearDisplay();
        display.setTextColor(WHITE);
        display.setTextSize(2);
        display.setCursor(0,0);
        display.print("Both are");
        display.setTextColor(WHITE);
        display.setTextSize(2);
        display.setCursor(35,15);
        display.print("Winner!");
      }
      display.display();
      delay(5000);
      
      bState=false;
      }

}

